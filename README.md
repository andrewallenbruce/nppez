
<!-- README.md is generated from README.Rmd. Please edit that file -->

# {nppez}

<!-- badges: start -->
<!-- badges: end -->

## Installation

You can install the development version of {nppez} from
[GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("andrewallenbruce/nppez")
```

``` r
library(nppez)
```

# Browse

``` r
nppez::browse()
```

| date       | file                                                 |    size | zip_url                                                                            |
|:-----------|:-----------------------------------------------------|--------:|:-----------------------------------------------------------------------------------|
| 2023-04-10 | NPPES Data Dissemination                             | 851.05M | <https://download.cms.gov/nppes/NPPES_Data_Dissemination_April_2023.zip>           |
| 2023-04-10 | NPPES Data Dissemination Monthly Deactivation Update |   1.78M | <https://download.cms.gov/nppes/NPPES_Deactivated_NPI_Report_041023.zip>           |
| 2023-04-03 | NPPES Data Dissemination Weekly Update               |   3.62M | <https://download.cms.gov/nppes/NPPES_Data_Dissemination_040323_040923_Weekly.zip> |

# Grab

``` r
nppez::grab(dir = "D:/nppez_data/zips/")
```

| date       |    size | filename                                                             |
|:-----------|--------:|:---------------------------------------------------------------------|
| 2023-04-12 |   3.62M | D:/nppez_data/zips/NPPES_Data_Dissemination_040323_040923_Weekly.zip |
| 2023-04-12 | 851.05M | D:/nppez_data/zips/NPPES_Data_Dissemination_April_2023.zip           |
| 2023-04-12 |   1.78M | D:/nppez_data/zips/NPPES_Deactivated_NPI_Report_041023.zip           |

# Peek

``` r
peek <- nppez::peek(dir = "D:/nppez_data/zips/")
```

``` r
peek |> 
  dplyr::group_by(parent_zip) |> 
  dplyr::mutate(csv = stringr::str_extract_all(filename, "[.]csv$")) |> 
  tidyr::unnest(csv) |>
  dplyr::mutate(fileheader = stringr::str_ends(filename, "fileheader[.]csv$", negate = TRUE)) |> 
  dplyr::filter(fileheader == TRUE) |>
  dplyr::mutate(csv = NULL, fileheader = NULL) |> 
  dplyr::summarise(size_compressed = sum(size_compressed),
                   size_uncompressed = sum(size_uncompressed)) |> 
  gluedown::md_table()
```

| parent_zip                                        | size_compressed | size_uncompressed |
|:--------------------------------------------------|----------------:|------------------:|
| NPPES_Data_Dissemination_040323_040923_Weekly.zip |           2.72M |            29.16M |
| NPPES_Data_Dissemination_April_2023.zip           |         850.15M |             8.84G |

``` r
peek |> 
  dplyr::filter(parent_zip == "NPPES_Data_Dissemination_040323_040923_Weekly.zip") |> 
  dplyr::mutate(csv = stringr::str_extract_all(filename, "[.]csv$")) |> 
  tidyr::unnest(csv) |>
  dplyr::mutate(fileheader = stringr::str_ends(filename, "fileheader[.]csv$", negate = TRUE)) |> 
  dplyr::filter(fileheader == TRUE) |>
  dplyr::mutate(csv = NULL, fileheader = NULL) |> 
  gluedown::md_table()
```

| parent_zip                                        | filename                              | size_compressed | size_uncompressed |
|:--------------------------------------------------|:--------------------------------------|----------------:|------------------:|
| NPPES_Data_Dissemination_040323_040923_Weekly.zip | npidata_pfile_20230403-20230409.csv   |           2.48M |             28.3M |
| NPPES_Data_Dissemination_040323_040923_Weekly.zip | endpoint_pfile_20230403-20230409.csv  |          64.08K |              330K |
| NPPES_Data_Dissemination_040323_040923_Weekly.zip | pl_pfile_20230403-20230409.csv        |         147.18K |            431.4K |
| NPPES_Data_Dissemination_040323_040923_Weekly.zip | othername_pfile_20230403-20230409.csv |           30.7K |             86.4K |

``` r
peek |> 
dplyr::filter(parent_zip == "NPPES_Data_Dissemination_April_2023.zip") |> 
  dplyr::mutate(csv = stringr::str_extract_all(filename, "[.]csv$")) |> 
  tidyr::unnest(csv) |>
  dplyr::mutate(fileheader = stringr::str_ends(filename, "fileheader[.]csv$", negate = TRUE)) |> 
  dplyr::filter(fileheader == TRUE) |>
  dplyr::mutate(csv = NULL, fileheader = NULL) |> 
  gluedown::md_table()
```

| parent_zip                              | filename                              | size_compressed | size_uncompressed |
|:----------------------------------------|:--------------------------------------|----------------:|------------------:|
| NPPES_Data_Dissemination_April_2023.zip | othername_pfile_20050523-20230409.csv |           8.97M |            25.88M |
| NPPES_Data_Dissemination_April_2023.zip | endpoint_pfile_20050523-20230409.csv  |          17.53M |            96.76M |
| NPPES_Data_Dissemination_April_2023.zip | pl_pfile_20050523-20230409.csv        |             22M |            65.51M |
| NPPES_Data_Dissemination_April_2023.zip | npidata_pfile_20050523-20230409.csv   |         801.64M |             8.66G |

# Dispense

``` r
nppez::dispense(zip_dir = "D:/nppez_data/zips/",
                unzip_dir =  "D:/nppez_data/unzips/")
```

| date       | file                                                                  |    size |
|:-----------|:----------------------------------------------------------------------|--------:|
| 2023-04-11 | D:/nppez_data/unzips/endpoint_pfile_20050523-20230409.csv             |  96.76M |
| 2023-04-11 | D:/nppez_data/unzips/endpoint_pfile_20050523-20230409_fileheader.csv  |     431 |
| 2023-04-12 | D:/nppez_data/unzips/endpoint_pfile_20230403-20230409.csv             | 330.03K |
| 2023-04-12 | D:/nppez_data/unzips/endpoint_pfile_20230403-20230409_fileheader.csv  |     431 |
| 2023-04-11 | D:/nppez_data/unzips/npidata_pfile_20050523-20230409.csv              |   8.66G |
| 2023-04-11 | D:/nppez_data/unzips/npidata_pfile_20050523-20230409_fileheader.csv   |  11.98K |
| 2023-04-12 | D:/nppez_data/unzips/npidata_pfile_20230403-20230409.csv              |  28.33M |
| 2023-04-12 | D:/nppez_data/unzips/npidata_pfile_20230403-20230409_fileheader.csv   |  11.98K |
| 2023-04-11 | D:/nppez_data/unzips/NPPES Deactivated NPI Report 20230410.xlsx       |   3.68M |
| 2023-04-11 | D:/nppez_data/unzips/NPPES_Data_Dissemination_CodeValues.pdf          | 543.72K |
| 2023-04-11 | D:/nppez_data/unzips/NPPES_Data_Dissemination_Readme.pdf              | 556.21K |
| 2023-04-11 | D:/nppez_data/unzips/othername_pfile_20050523-20230409.csv            |  25.88M |
| 2023-04-11 | D:/nppez_data/unzips/othername_pfile_20050523-20230409_fileheader.csv |      86 |
| 2023-04-12 | D:/nppez_data/unzips/othername_pfile_20230403-20230409.csv            |  86.44K |
| 2023-04-12 | D:/nppez_data/unzips/othername_pfile_20230403-20230409_fileheader.csv |      86 |
| 2023-04-11 | D:/nppez_data/unzips/pl_pfile_20050523-20230409.csv                   |  65.51M |
| 2023-04-11 | D:/nppez_data/unzips/pl_pfile_20050523-20230409_fileheader.csv        |     578 |
| 2023-04-12 | D:/nppez_data/unzips/pl_pfile_20230403-20230409.csv                   | 431.35K |
| 2023-04-12 | D:/nppez_data/unzips/pl_pfile_20230403-20230409_fileheader.csv        |     578 |
| 2023-04-11 | D:/nppez_data/unzips/weekly                                           |       0 |

# Clean

## Weekly Update

Each week, a file will be available for download. This file will contain
only the new FOIA-disclosable NPPES provider data since the last weekly
or monthly file was generated.

``` r
weekly <- clean_weekly_update()
weekly <- datawizard::data_peek(weekly)
weekly
#> Data frame with 24214 rows and 328 variables
#> 
#> Variable                     | Type      | Values                      
#> -----------------------------------------------------------------------
#> npi                          | character | 1164126330, 1558087916, ... 
#> entity_type                  | character | Organization, ...           
#> replacement_npi              | character | NA, NA, NA, NA, NA, NA, ... 
#> ein                          | character | NA, NA, NA, NA, NA, NA, ... 
#> organization_legal_name      | character | GOLDEN ERA ADHC LLC, ...    
#> last_name                    | character | NA, NA, NA, NA, NA, ...     
#> first_name                   | character | NA, NA, NA, NA, NA, ...     
#> middle_name                  | character | NA, NA, NA, NA, NA, ...     
#> prefix_name                  | character | NA, NA, NA, NA, NA, DR., ...
#> suffix_name                  | character | NA, NA, NA, NA, NA, NA, ... 
#> credential                   | character | NA, NA, NA, NA, NA, MD, ... 
#> organization_other_name      | character | NA, NA, NA, ...             
#> organization_other_type      | character | NA, NA, NA, 5, 3, NA, ...   
#> other_last_name              | character | NA, NA, NA, NA, NA, NA, ... 
#> other_first_name             | character | NA, NA, NA, NA, NA, NA, ... 
#> other_middle_name            | character | NA, NA, NA, NA, NA, NA, ... 
#> other_prefix_name            | character | NA, NA, NA, NA, NA, NA, ... 
#> other_suffix_name            | character | NA, NA, NA, NA, NA, NA, ... 
#> other_credential             | character | NA, NA, NA, NA, NA, NA, ... 
#> other_last_name_type         | character | NA, NA, NA, NA, NA, NA, ... 
#> address_mailing_street       | character | 2638 RAINIER CT, ...        
#> address_mailing_city         | character | UNION CITY, SCOTTSDALE, ... 
#> address_mailing_state        | character | CA, AZ, NV, CO, TX, FL, ... 
#> address_mailing_zip          | character | 945874923, 852606991, ...   
#> address_mailing_country      | character | US, US, US, US, US, US, ... 
#> address_mailing_phone        | character | NA, 6027686704, ...         
#> address_mailing_fax          | character | NA, 3252896197, ...         
#> address_practice_street      | character | 4 UNION SQ, ...             
#> address_practice_city        | character | UNION CITY, SCOTTSDALE, ... 
#> address_practice_state       | character | CA, AZ, NV, CO, TX, FL, ... 
#> address_practice_zip         | character | 945873523, 852606991, ...   
#> address_practice_country     | character | US, US, US, US, US, US, ... 
#> address_practice_phone       | character | 4083002367, 6027686704, ... 
#> address_practice_fax         | character | NA, 3252896197, ...         
#> enumeration_date             | date      | 2023-03-29, 2022-10-18, ... 
#> certification_date           | date      | 2023-04-03, 2023-04-03, ... 
#> last_updated                 | date      | 2023-04-03, 2023-04-03, ... 
#> npi_deactivation_reason_code | character | NA, NA, NA, NA, NA, NA, ... 
#> npi_deactivation_date        | date      | NA, NA, NA, NA, NA, NA, ... 
#> npi_reactivation_date        | date      | NA, NA, NA, NA, NA, NA, ... 
#> gender                       | character | NA, NA, NA, NA, NA, M, ...  
#> authoff_last_name            | character | GIANG, ZHONG, WANG, ...     
#> authoff_first_name           | character | HANH, JUN, QINGCHUAN, ...   
#> authoff_middle_name          | character | NA, NA, NA, A., NA, NA, ... 
#> authoff_prefix_name          | character | MRS., NA, MRS., NA, MS., ...
#> authoff_suffix_name          | character | NA, NA, NA, NA, NA, NA, ... 
#> authoff_credential           | character | NA, MD, CPA, MD, R.R.T., ...
#> authoff_position             | character | MANAGING MEMBER, OWNER, ... 
#> authoff_phone                | character | 4083002367, 6027686704, ... 
#> is_sole_proprietor           | character | NA, NA, NA, NA, NA, N, ...  
#> is_organization_subpart      | character | N, N, N, N, N, NA, NA, ...  
#> parent_organization_lbn      | character | NA, NA, NA, NA, NA, NA, ... 
#> parent_organization_tin      | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_1              | character | 261QA0600X, 2084P0800X, ... 
#> primary_taxonomy_switch_1    | character | Y, Y, Y, Y, Y, Y, Y, Y, ... 
#> taxonomy_group_1             | character | NA, ...                     
#> license_number_1             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_1              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_2              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_2    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_2             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_2             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_2              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_3              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_3    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_3             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_3             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_3              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_4              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_4    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_4             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_4             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_4              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_5              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_5    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_5             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_5             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_5              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_6              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_6    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_6             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_6             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_6              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_7              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_7    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_7             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_7             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_7              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_8              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_8    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_8             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_8             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_8              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_9              | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_9    | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_9             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_9             | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_9              | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_10             | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_10   | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_10            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_10            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_10             | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_11             | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_11   | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_11            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_11            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_11             | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_12             | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_12   | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_12            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_12            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_12             | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_13             | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_13   | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_13            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_13            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_13             | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_14             | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_14   | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_14            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_14            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_14             | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_code_15             | character | NA, NA, NA, NA, NA, NA, ... 
#> primary_taxonomy_switch_15   | character | NA, NA, NA, NA, NA, NA, ... 
#> taxonomy_group_15            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_number_15            | character | NA, NA, NA, NA, NA, NA, ... 
#> license_state_15             | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_1                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_2                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_3                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_4                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_5                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_6                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_7                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_8                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_9                 | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_10                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_11                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_12                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_13                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_14                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_15                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_16                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_17                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_18                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_19                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_20                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_21                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_22                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_23                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_24                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_25                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_26                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_27                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_28                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_29                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_30                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_31                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_32                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_33                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_34                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_35                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_36                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_37                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_38                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_39                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_40                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_41                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_42                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_43                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_44                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_45                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_46                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_47                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_48                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_49                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_50                | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_1            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_2            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_3            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_4            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_5            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_6            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_7            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_8            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_9            | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_10           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_11           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_12           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_13           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_14           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_15           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_16           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_17           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_18           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_19           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_20           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_21           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_22           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_23           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_24           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_25           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_26           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_27           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_28           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_29           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_30           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_31           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_32           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_33           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_34           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_35           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_36           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_37           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_38           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_39           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_40           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_41           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_42           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_43           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_44           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_45           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_46           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_47           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_48           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_49           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_type_50           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_1           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_2           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_3           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_4           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_5           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_6           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_7           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_8           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_9           | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_10          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_11          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_12          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_13          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_14          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_15          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_16          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_17          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_18          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_19          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_20          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_21          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_22          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_23          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_24          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_25          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_26          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_27          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_28          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_29          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_30          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_31          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_32          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_33          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_34          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_35          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_36          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_37          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_38          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_39          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_40          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_41          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_42          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_43          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_44          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_45          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_46          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_47          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_48          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_49          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_state_50          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_1          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_2          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_3          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_4          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_5          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_6          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_7          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_8          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_9          | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_10         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_11         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_12         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_13         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_14         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_15         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_16         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_17         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_18         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_19         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_20         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_21         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_22         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_23         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_24         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_25         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_26         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_27         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_28         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_29         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_30         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_31         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_32         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_33         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_34         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_35         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_36         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_37         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_38         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_39         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_40         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_41         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_42         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_43         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_44         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_45         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_46         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_47         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_48         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_49         | character | NA, NA, NA, NA, NA, NA, ... 
#> identifier_issuer_50         | character | NA, NA, NA, NA, NA, NA, ...
```

## Monthly Deactivations

The FOIA-disclosable data for a health care provider (individual or
organization) who deactivated an NPI will now be disclosed within the
files. For a deactivated NPI, CMS will only disclose the deactivated NPI
and the associated date of deactivation within the files.

``` r
deactivation <- clean_deactivation(dir_xlsx = "D:/nppez_data/unzips")
deactivation <- datawizard::data_peek(deactivation)
deactivation
#> Data frame with 245458 rows and 3 variables
#> 
#> Variable          | Type      | Values                                 
#> -----------------------------------------------------------------------
#> npi               | character | 1053472647, 1831848779, 1285361154, ...
#> deactivation_date | date      | 2023-04-10, 2023-04-09, 2023-04-08, ...
#> release_date      | date      | 2023-04-10, 2023-04-10, 2023-04-10, ...
```

## Monthly Endpoints

− File contains all Endpoints associated with Type 1 and Type 2 NPIs

``` r
endpoints <- readr::read_csv(
  "D:/nppez_data/unzips/endpoint_pfile_20050523-20230409.csv", 
  col_types = "ccc",
  name_repair = janitor::make_clean_names) |> 
  dplyr::arrange(npi)
endpoints <- datawizard::data_peek(endpoints)
endpoints
#> Data frame with 501876 rows and 19 variables
#> 
#> Variable                        | Type      | Values                     
#> -------------------------------------------------------------------------
#> npi                             | character | 1003000225, ...            
#> endpoint_type                   | character | SOAP, DIRECT, DIRECT, ...  
#> endpoint_type_description       | character | SOAP URL, ...              
#> endpoint                        | character | https://careepicwest.k, ...
#> affiliation                     | character | Y, N, N, N, N, Y, Y, ...   
#> endpoint_description            | character | Carequality, ...           
#> affiliation_legal_business_name | character | The Permanente Medical, ...
#> use_code                        | character | HIE, DIRECT, NA, ...       
#> use_description                 | character | Health Information Exc, ...
#> other_use_description           | character | NA, NA, NA, NA, NA, ...    
#> content_type                    | character | OTHER, OTHER, NA, ...      
#> content_description             | character | Other, Other, NA, ...      
#> other_content_description       | character | C-CDA, CCDA, NA, ...       
#> affiliation_address_line_one    | character | 275 W MacArthur Blvd, ...  
#> affiliation_address_line_two    | character | NA, NA, NA, NA, NA, ...    
#> affiliation_address_city        | character | Oakland, Mentor, ...       
#> affiliation_address_state       | character | CA, OH, KY, SC, TX, ...    
#> affiliation_address_country     | character | US, US, US, US, US, ...    
#> affiliation_address_postal_code | character | 946115641, 440608714, ...
```

## Monthly Other Names

− File contains additional Other Names associated with Type 2 NPIs

``` r
othernames <- readr::read_csv(
  "D:/nppez_data/unzips/othername_pfile_20050523-20230409.csv", 
  col_types = "ccc",
  name_repair = janitor::make_clean_names) |> 
  dplyr::rename(other_organization_name = provider_other_organization_name,
                other_organization_type = provider_other_organization_name_type_code)
othernames <- datawizard::data_peek(othernames)
othernames
#> Data frame with 603052 rows and 3 variables
#> 
#> Variable                | Type      | Values                           
#> -----------------------------------------------------------------------
#> npi                     | character | 1194815423, 1205924446, ...      
#> other_organization_name | character | EMPIRE HOME HEALTH SERVICES, ... 
#> other_organization_type | character | 3, 5, 3, 3, 5, 3, 3, 3, 3, 3, ...
```

## Monthly Practice Locations

− File contains all of the non-primary Practice Locations associated
with Type 1 and Type 2 NPIs.

``` r
locations <- readr::read_csv(
  "D:/nppez_data/unzips/pl_pfile_20050523-20230409.csv", 
  #col_types = "ccc",
  name_repair = janitor::make_clean_names) |> 
  janitor::remove_empty()
locations <- datawizard::data_peek(locations)
locations
#> Data frame with 716002 rows and 10 variables
#> 
#> Variable                                                                 | Type      | Values
#> ---------------------------------------------------------------------------------------------
#> npi                                                                      | numeric   | , ... 
#> provider_secondary_practice_location_address_address_line_1              | character | , ... 
#> provider_secondary_practice_location_address_address_line_2              | character | , ... 
#> provider_secondary_practice_location_address_city_name                   | character | , ... 
#> provider_secondary_practice_location_address_state_name                  | character | , ... 
#> provider_secondary_practice_location_address_postal_code                 | character | , ... 
#> provider_secondary_practice_location_address_country_code_if_outside_u_s | character | , ... 
#> provider_secondary_practice_location_address_telephone_number            | character | , ... 
#> provider_secondary_practice_location_address_telephone_extension         | numeric   | , ... 
#> provider_practice_location_address_fax_number                            | numeric   | , ...
```

## Monthly Update
